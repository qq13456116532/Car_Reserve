(window.webpackJsonp=window.webpackJsonp||[]).push([["chunk-cdc7"],{"+9CQ":function(t,e,a){var n,i,r;i=[e,a("88Rz")],void 0===(r="function"==typeof(n=function(t,e){if(e){var a=["#2ec7c9","#b6a2de","#5ab1ef","#ffb980","#d87a80","#8d98b3","#e5cf0d","#97b552","#95706d","#dc69aa","#07a2a4","#9a7fd1","#588dd5","#f5994e","#c05050","#59678c","#c9ab00","#7eb00a","#6f5553","#c14089"],n={color:a,title:{textStyle:{fontWeight:"normal",color:"#008acd"}},visualMap:{itemWidth:15,color:["#5ab1ef","#e0ffff"]},toolbox:{iconStyle:{normal:{borderColor:a[0]}}},tooltip:{backgroundColor:"rgba(50,50,50,0.5)",axisPointer:{type:"line",lineStyle:{color:"#008acd"},crossStyle:{color:"#008acd"},shadowStyle:{color:"rgba(200,200,200,0.2)"}}},dataZoom:{dataBackgroundColor:"#efefff",fillerColor:"rgba(182,162,222,0.2)",handleColor:"#008acd"},grid:{borderColor:"#eee"},categoryAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitLine:{lineStyle:{color:["#eee"]}}},valueAxis:{axisLine:{lineStyle:{color:"#008acd"}},splitArea:{show:!0,areaStyle:{color:["rgba(250,250,250,0.1)","rgba(200,200,200,0.1)"]}},splitLine:{lineStyle:{color:["#eee"]}}},timeline:{lineStyle:{color:"#008acd"},controlStyle:{normal:{color:"#008acd"},emphasis:{color:"#008acd"}},symbol:"emptyCircle",symbolSize:3},line:{smooth:!0,symbol:"emptyCircle",symbolSize:3},candlestick:{itemStyle:{normal:{color:"#d87a80",color0:"#2ec7c9",lineStyle:{color:"#d87a80",color0:"#2ec7c9"}}}},scatter:{symbol:"circle",symbolSize:4},map:{label:{normal:{textStyle:{color:"#d87a80"}}},itemStyle:{normal:{borderColor:"#eee",areaColor:"#ddd"},emphasis:{areaColor:"#fe994e"}}},graph:{color:a},gauge:{axisLine:{lineStyle:{color:[[.2,"#2ec7c9"],[.8,"#5ab1ef"],[1,"#d87a80"]],width:10}},axisTick:{splitNumber:10,length:15,lineStyle:{color:"auto"}},splitLine:{length:22,lineStyle:{color:"auto"}},pointer:{width:5}}};e.registerTheme("macarons",n)}else!function(t){"undefined"!=typeof console&&console&&console.error&&console.error(t)}("ECharts is not Loaded")})?n.apply(e,i):n)||(t.exports=r)},"/lgZ":function(t,e,a){"use strict";var n=a("N0Zq");a.n(n).a},"3cOd":function(t,e,a){},N0Zq:function(t,e,a){},QFVM:function(t,e,a){"use strict";var n=a("TXD2");a.n(n).a},TXD2:function(t,e,a){},"d+6k":function(t,e,a){"use strict";var n=a("3cOd");a.n(n).a},lAbF:function(t,e,a){"use strict";a.r(e);var n=a("bS4n"),i=a.n(n),r=a("8t5x"),s=a("rerW"),o=a.n(s),l=a("6ZY3"),c=a.n(l),u=a("ni5H"),d=a.n(u),h={components:{CountTo:d.a},props:{sales:{type:Number,default:0},num:{type:Number,default:0}}},p=(a("QFVM"),a("ZrdR")),m=Object(p.a)(h,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:24,lg:24}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("销售额")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.sales,duration:1600}})],1)])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:24,lg:24}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("销量")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.num,duration:1600}})],1),t._v(" "),a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1)])])],1)},[],!1,null,"379f0a7b",null);m.options.__file="PanelGroup.vue";var f=m.exports,v=a("88Rz"),b=a.n(v),y=a("7Qib");a("+9CQ");var g={props:{className:{type:String,default:"chart"},width:{type:String,default:"100%"},height:{type:String,default:"300px"},option:{type:Object,default:null}},data:function(){return{myChart:{}}},computed:{opt:function(){return{title:{text:"昨日销售额",x:"20",top:"20",textStyle:{fontSize:"22"},subtextStyle:{color:"#90979c",fontSize:"16"}},tooltip:{trigger:"item",formatter:"{b} : {c} ({d}%)"},legend:{left:"center",bottom:"10",data:this.option.legend.data},calculable:!0,series:[{type:"pie",roseType:"radius",radius:[15,95],center:["50%","38%"],data:this.option.series.data,animationEasing:"cubicInOut",animationDuration:1600}]}}},watch:{option:function(){this.chartChange()}},mounted:function(){var t=this;this.initChart(),this.__resizeHandler=Object(y.a)(function(){t.myChart&&t.myChart.resize()},100),window.addEventListener("resize",this.__resizeHandler)},updated:function(){this.myChart||this.initChart(),this.ChartChange()},beforeDestroy:function(){this.myChart&&(window.removeEventListener("resize",this.__resizeHandler),this.myChart.dispose(),this.myChart=null)},methods:{initChart:function(){this.myChart=b.a.init(this.$el,"macarons"),this.myChart.setOption(this.opt)},chartChange:function(){this.myChart.setOption(this.opt)}}},C=Object(p.a)(g,function(){var t=this.$createElement;return(this._self._c||t)("div",{class:this.className,style:{height:this.height,width:this.width}})},[],!1,null,null,null);C.options.__file="PieChart.vue";var _=C.exports,w=a("xjht"),x={name:"DashboardAdmin",components:{PanelGroup:f,PieChart:_},data:function(){return{option:{legend:{data:[]},series:{data:[]}},sales:0,num:0}},created:function(){this.getChart(),this.getSaleNum()},methods:{getChart:function(){var t=this;Object(w.c)().then(function(e){if(2e4===e.data.code){var a=c()({},t.option);a.series.data=e.data.data;var n=[],i=!0,r=!1,s=void 0;try{for(var l,u=o()(a.series.data);!(i=(l=u.next()).done);i=!0){var d=l.value;n.push(d.name),t.sales+=d.value}}catch(t){r=!0,s=t}finally{try{!i&&u.return&&u.return()}finally{if(r)throw s}}a.legend.data=n,t.option=a}})},getSaleNum:function(){var t=this;Object(w.e)().then(function(e){t.num=e.data.data})}}},S=(a("/lgZ"),Object(p.a)(x,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dashboard-editor-container"},[e("el-row",{staticStyle:{height:"calc(100vh - 150px)",width:"100%"},attrs:{gutter:32}},[e("el-col",{staticStyle:{height:"100%"},attrs:{xs:24,sm:24,lg:18}},[e("pie-chart",{staticClass:"chart-wrapper",attrs:{option:this.option,height:"100%",width:"100%"}})],1),this._v(" "),e("el-col",{attrs:{xs:24,sm:24,lg:6}},[e("panel-group",{attrs:{sales:this.sales,num:this.num}})],1)],1)],1)},[],!1,null,"549af904",null));S.options.__file="index.vue";var V=S.exports,F={name:"DashboardEditor",components:{CountTo:d.a},data:function(){return{emptyGif:"https://wpimg.wallstcn.com/0e03b7da-db9e-4819-ba10-9016ddfdaed3",sales:null,saleNum:null}},computed:i()({},Object(r.b)(["name","avatar","roles"])),created:function(){this.getData()},methods:{getData:function(){var t=this;Object(w.d)(this.$store.getters.id).then(function(e){2e4===e.data.code&&(t.sales=e.data.data.sales,t.saleNum=e.data.data.saleNum)})}}},A=(a("d+6k"),Object(p.a)(F,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dashboard-editor-container"},[a("div",{staticClass:" clearfix"},[a("el-row",{staticClass:"panel-group",attrs:{gutter:40}},[a("el-col",{staticClass:"info-container",attrs:{xs:24,sm:24,lg:8}},[a("span",{staticStyle:{"font-size":"20px"}},[t._v("欢迎您")]),a("br"),t._v(" "),a("span",{staticClass:"display_name"},[t._v(t._s(t.name))])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-money"},[a("svg-icon",{attrs:{"icon-class":"money","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("本月销售额")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.sales,duration:3200}})],1)])]),t._v(" "),a("el-col",{staticClass:"card-panel-col",attrs:{xs:24,sm:12,lg:6}},[a("div",{staticClass:"card-panel"},[a("div",{staticClass:"card-panel-icon-wrapper icon-shopping"},[a("svg-icon",{attrs:{"icon-class":"shopping","class-name":"card-panel-icon"}})],1),t._v(" "),a("div",{staticClass:"card-panel-description"},[a("div",{staticClass:"card-panel-text"},[t._v("本月销量")]),t._v(" "),a("count-to",{staticClass:"card-panel-num",attrs:{"start-val":0,"end-val":t.saleNum,duration:1600}})],1)])])],1)],1),t._v(" "),a("div",[a("img",{staticClass:"emptyGif",attrs:{src:t.emptyGif}})])])},[],!1,null,"dc69c9b6",null));A.options.__file="index.vue";var O={name:"Dashboard",components:{adminDashboard:V,editorDashboard:A.exports},data:function(){return{currentRole:"adminDashboard"}},computed:i()({},Object(r.b)(["roles"])),created:function(){this.roles.includes("admin")||(this.currentRole="editorDashboard")}},j=Object(p.a)(O,function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"dashboard-container"},[e(this.currentRole,{tag:"component"})],1)},[],!1,null,null,null);j.options.__file="index.vue";e.default=j.exports},ni5H:function(t,e,a){t.exports=function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={i:n,l:!1,exports:{}};return t[n].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var a={};return e.m=t,e.c=a,e.i=function(t){return t},e.d=function(t,a,n){e.o(t,a)||Object.defineProperty(t,a,{configurable:!1,enumerable:!0,get:n})},e.n=function(t){var a=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(a,"a",a),a},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/dist/",e(e.s=2)}([function(t,e,a){var n=a(4)(a(1),a(5),null,null);t.exports=n.exports},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(3);e.default={props:{startVal:{type:Number,required:!1,default:0},endVal:{type:Number,required:!1,default:2017},duration:{type:Number,required:!1,default:3e3},autoplay:{type:Boolean,required:!1,default:!0},decimals:{type:Number,required:!1,default:0,validator:function(t){return t>=0}},decimal:{type:String,required:!1,default:"."},separator:{type:String,required:!1,default:","},prefix:{type:String,required:!1,default:""},suffix:{type:String,required:!1,default:""},useEasing:{type:Boolean,required:!1,default:!0},easingFn:{type:Function,default:function(t,e,a,n){return a*(1-Math.pow(2,-10*t/n))*1024/1023+e}}},data:function(){return{localStartVal:this.startVal,displayValue:this.formatNumber(this.startVal),printVal:null,paused:!1,localDuration:this.duration,startTime:null,timestamp:null,remaining:null,rAF:null}},computed:{countDown:function(){return this.startVal>this.endVal}},watch:{startVal:function(){this.autoplay&&this.start()},endVal:function(){this.autoplay&&this.start()}},mounted:function(){this.autoplay&&this.start(),this.$emit("mountedCallback")},methods:{start:function(){this.localStartVal=this.startVal,this.startTime=null,this.localDuration=this.duration,this.paused=!1,this.rAF=(0,n.requestAnimationFrame)(this.count)},pauseResume:function(){this.paused?(this.resume(),this.paused=!1):(this.pause(),this.paused=!0)},pause:function(){(0,n.cancelAnimationFrame)(this.rAF)},resume:function(){this.startTime=null,this.localDuration=+this.remaining,this.localStartVal=+this.printVal,(0,n.requestAnimationFrame)(this.count)},reset:function(){this.startTime=null,(0,n.cancelAnimationFrame)(this.rAF),this.displayValue=this.formatNumber(this.startVal)},count:function(t){this.startTime||(this.startTime=t),this.timestamp=t;var e=t-this.startTime;this.remaining=this.localDuration-e,this.useEasing?this.countDown?this.printVal=this.localStartVal-this.easingFn(e,0,this.localStartVal-this.endVal,this.localDuration):this.printVal=this.easingFn(e,this.localStartVal,this.endVal-this.localStartVal,this.localDuration):this.countDown?this.printVal=this.localStartVal-(this.localStartVal-this.endVal)*(e/this.localDuration):this.printVal=this.localStartVal+(this.localStartVal-this.startVal)*(e/this.localDuration),this.countDown?this.printVal=this.printVal<this.endVal?this.endVal:this.printVal:this.printVal=this.printVal>this.endVal?this.endVal:this.printVal,this.displayValue=this.formatNumber(this.printVal),e<this.localDuration?this.rAF=(0,n.requestAnimationFrame)(this.count):this.$emit("callback")},isNumber:function(t){return!isNaN(parseFloat(t))},formatNumber:function(t){t=t.toFixed(this.decimals);var e=(t+="").split("."),a=e[0],n=e.length>1?this.decimal+e[1]:"",i=/(\d+)(\d{3})/;if(this.separator&&!this.isNumber(this.separator))for(;i.test(a);)a=a.replace(i,"$1"+this.separator+"$2");return this.prefix+a+n+this.suffix}},destroyed:function(){(0,n.cancelAnimationFrame)(this.rAF)}}},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=a(0),i=function(t){return t&&t.__esModule?t:{default:t}}(n);e.default=i.default,"undefined"!=typeof window&&window.Vue&&window.Vue.component("count-to",i.default)},function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=0,i="webkit moz ms o".split(" "),r=void 0,s=void 0;if("undefined"==typeof window)e.requestAnimationFrame=r=function(){},e.cancelAnimationFrame=s=function(){};else{e.requestAnimationFrame=r=window.requestAnimationFrame,e.cancelAnimationFrame=s=window.cancelAnimationFrame;for(var o=void 0,l=0;l<i.length&&(!r||!s);l++)o=i[l],e.requestAnimationFrame=r=r||window[o+"RequestAnimationFrame"],e.cancelAnimationFrame=s=s||window[o+"CancelAnimationFrame"]||window[o+"CancelRequestAnimationFrame"];r&&s||(e.requestAnimationFrame=r=function(t){var e=(new Date).getTime(),a=Math.max(0,16-(e-n)),i=window.setTimeout(function(){t(e+a)},a);return n=e+a,i},e.cancelAnimationFrame=s=function(t){window.clearTimeout(t)})}e.requestAnimationFrame=r,e.cancelAnimationFrame=s},function(t,e){t.exports=function(t,e,a,n){var i,r=t=t||{},s=typeof t.default;"object"!==s&&"function"!==s||(i=t,r=t.default);var o="function"==typeof r?r.options:r;if(e&&(o.render=e.render,o.staticRenderFns=e.staticRenderFns),a&&(o._scopeId=a),n){var l=Object.create(o.computed||null);Object.keys(n).forEach(function(t){var e=n[t];l[t]=function(){return e}}),o.computed=l}return{esModule:i,exports:r,options:o}}},function(t,e){t.exports={render:function(){var t=this,e=t.$createElement;return(t._self._c||e)("span",[t._v("\n  "+t._s(t.displayValue)+"\n")])},staticRenderFns:[]}}])},xjht:function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"b",function(){return r}),a.d(e,"c",function(){return s}),a.d(e,"e",function(){return o}),a.d(e,"f",function(){return l}),a.d(e,"d",function(){return c});var n=a("t3Un");function i(t){return Object(n.a)({url:"/chart/getEmpChart",method:"get",params:{date:t}})}function r(t,e){return Object(n.a)({url:"/chart/getEmpSalesChart",method:"get",params:{id:t,date:e}})}function s(){return Object(n.a)({url:"/chart/getIndexChart",method:"get"})}function o(){return Object(n.a)({url:"/chart/getSaleNum",method:"get"})}function l(t,e){return Object(n.a)({url:"/chart/getSalesChart",method:"get",params:{start:t,end:e}})}function c(t){return Object(n.a)({url:"/chart/getIndexSales",method:"get",params:{id:t}})}}}]);